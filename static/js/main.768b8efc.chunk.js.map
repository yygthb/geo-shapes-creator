{"version":3,"sources":["components/Sidebar/Section/Section.module.css","components/Sidebar/Section/Style/Style.module.css","App.module.css","components/Sidebar/Sidebar.module.css","components/Figures/Rectangle.tsx","components/Figures/Triangle.tsx","redux/actions/actionTypes.tsx","redux/actions/actionCreators.tsx","components/Content/Content.tsx","components/Sidebar/Section/Section.tsx","components/Sidebar/Section/Shapes/Shapes.tsx","components/Sidebar/Section/Style/Style.tsx","components/Sidebar/Sidebar.tsx","App.tsx","reportWebVitals.js","config/config.tsx","redux/reducers/figuresReducer.tsx","redux/reducers/fillColorReducer.tsx","redux/mainReducer.tsx","index.tsx","components/Content/Content.module.css","components/Sidebar/Section/Shapes/Shapes.module.css"],"names":["module","exports","style","Rectangle","classes","figure","index","props","width","height","className","join","id","type","zIndexCSS","zIndex","top","position","left","x","y","fill","color","cursor","outline","pointerEvents","onMouseDown","e","onClick","onFigureClickHandler","onContextMenu","preventDefault","onDragStart","tabIndex","onKeyDown","Triangle","points","ADD_NEW_FIGURE","GET_ACTIVE_FIGURE","RESET_ACTIVE_FIGURE","SAVE_POSITION","GET_NEW_COLOR_TO_ACTIVE_FIGURE","KEY_LISTENER_DELETE","resetActiveFigure","connect","state","figures","figuresState","activeFigure","dispatch","getActiveFigure","value","getactiveFigure","onSavePosition","onDeleteKeyDownListener","eCode","activeId","contentRef","React","createRef","stopPropagation","code","el","getBoundingClientRect","bottom","right","getMidCoordinates","current","midY","midX","target","currentTarget","parentNode","shiftY","clientY","shiftX","clientX","moveFigureAt","pageY","pageX","document","addEventListener","onmouseup","removeEventListener","onChangePositionHandler","content","ref","content_mid","map","push","active","Section","section","section_title","title","section_content","children","Shapes","createButton","rectangle","createFigureHandler","triangle","Style","disabled","property","input","backgroundColor","onChange","onColorChange","fillColor","fillColorState","addNewFigure","name","getNewColorToFigure","sidebar","App","main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","DEFAULT_FILL_COLOR","DEFAULT_FIGURE_COLOR","DELETE_KEY_DOWN","LOCAL_STORAGE_FIGURE","initialState","localStorage","getItem","JSON","parse","maxZIndexCSS","combineReducers","action","newFigure","activeFigureId","f","splice","length","store","createStore","mainReducer","applyMiddleware","next","returnValue","getState","setItem","stringify","app","StrictMode","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.768b8efc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__1eXKc\",\"section_title\":\"Section_section_title__2BWNQ\",\"section_content\":\"Section_section_content__3m3j_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Style_input__16bJw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__2-HaF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__23a4D\"};","import React from 'react'\r\nimport { FigurePropsType } from '../../types'\r\n\r\nconst style: any = {}\r\n\r\nconst Rectangle: React.FC<FigurePropsType> = ({ classes, figure, index, ...props }) => {\r\n\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.zIndexCSS}`}\r\n      style={{\r\n        zIndex: figure.zIndexCSS,\r\n        top: figure.position.top,\r\n        left: figure.position.left\r\n      }}\r\n    >\r\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.zIndexCSS}`}\r\n        style={{\r\n          cursor: 'pointer',\r\n          outline: 'none',\r\n          pointerEvents: 'all'\r\n        }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Rectangle","import React from 'react'\r\nimport { FigurePropsType } from '../../types'\r\n\r\nconst style: any = {}\r\n\r\nconst Triangle: React.FC<FigurePropsType> = ({ classes, figure, index, ...props }) => {\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.zIndexCSS}`}\r\n      style={{\r\n        zIndex: figure.zIndexCSS,\r\n        top: figure.position.top,\r\n        left: figure.position.left,\r\n      }}\r\n    >\r\n      <polygon points=\"0,100 100,0 200,100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.zIndexCSS}`}\r\n        style={{\r\n          cursor: 'pointer',\r\n          outline: 'none',\r\n          pointerEvents: 'all'\r\n        }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Triangle","export const ADD_NEW_FIGURE = 'ADD_NEW_FIGURE'\r\nexport const GET_ACTIVE_FIGURE = 'GET_ACTIVE_FIGURE'\r\nexport const RESET_ACTIVE_FIGURE = 'RESET_ACTIVE_FIGURE'\r\nexport const SAVE_POSITION = 'SAVE_POSITION'\r\nexport const GET_NEW_COLOR_TO_ACTIVE_FIGURE = 'GET_NEW_COLOR_TO_ACTIVE_FIGURE'\r\nexport const KEY_LISTENER_DELETE = 'KEY_LISTENER_DELETE'","import { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"./actionTypes\";\r\nimport { GetActiveFigureType } from '../../types'\r\n\r\nexport function addNewFigure(name: string) {\r\n  return {\r\n    type: ADD_NEW_FIGURE,\r\n    name\r\n  }\r\n}\r\n\r\nexport function getactiveFigure(value: GetActiveFigureType) {\r\n  return {\r\n    type: GET_ACTIVE_FIGURE,\r\n    value\r\n  }\r\n}\r\n\r\nexport function resetActiveFigure() {\r\n  return {\r\n    type: RESET_ACTIVE_FIGURE\r\n  }\r\n}\r\n\r\nexport function onSavePosition(index: number, top: string, left: string) {\r\n  return {\r\n    type: SAVE_POSITION,\r\n    index, top, left,\r\n  }\r\n}\r\n\r\nexport function getNewColorToFigure(color: string) {\r\n  return {\r\n    type: GET_NEW_COLOR_TO_ACTIVE_FIGURE,\r\n    color\r\n  }\r\n}\r\n\r\nexport function onDeleteKeyDownListener(eCode: string, index: number) {\r\n  return {\r\n    type: KEY_LISTENER_DELETE,\r\n    eCode, index\r\n  }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { GetStateType } from '../..'\r\nimport { FigureType, GetActiveFigureType } from '../../types'\r\nimport Rectangle from '../Figures/Rectangle'\r\nimport Triangle from '../Figures/Triangle'\r\nimport style from './Content.module.css'\r\nimport { getactiveFigure, resetActiveFigure, onSavePosition, onDeleteKeyDownListener } from '../../redux/actions/actionCreators'\r\n\r\n// вычисление центра \"рабочей области\" - позиционирование фигуры относительно этого центра\r\nconst getMidCoordinates = (el: any) => {\r\n  const { top, bottom, left, right } = el.getBoundingClientRect()\r\n\r\n  const midY = (bottom - top) / 2\r\n  const midX = (right - left) / 2 + left\r\n\r\n  return [midY, midX]\r\n}\r\n\r\ntype Props = {\r\n  activeFigure: null | FigureType\r\n  figures: Array<FigureType>\r\n\r\n  resetActiveFigure: () => void\r\n  getActiveFigure: (obj: GetActiveFigureType) => void\r\n  onSavePosition: (index: number, top: string, left: string) => void\r\n  onDeleteKeyDownListener: (eCode: string, index: number) => void\r\n}\r\n\r\nconst Content: React.FC<Props> = props => {\r\n  let activeId: number = 0\r\n  if (props.activeFigure !== null) {\r\n    activeId = props.activeFigure.zIndexCSS\r\n  }\r\n  const contentRef = React.createRef<HTMLDivElement>()\r\n\r\n  // события по клику на фигуру в рабочей области\r\n  const onFigureClickHandler = (e: React.MouseEvent, figure: FigureType, index: number) => {\r\n    e.stopPropagation()\r\n    props.getActiveFigure({ figure, index })\r\n  }\r\n\r\n  // Удаление выделенной фигуры по нажатию на кнопку клавиатуры (Delete)\r\n  const onKeyDown = (e: React.KeyboardEvent, index: number) => {\r\n    props.onDeleteKeyDownListener(e.code, index)\r\n  }\r\n\r\n  // переписывать позиционирование двигаемой фигуры (для последующей записи в localstorage)\r\n  const onChangePositionHandler = (index: number, top: string, left: string) => {\r\n    props.onSavePosition(index, top, left)\r\n  }\r\n\r\n  // const onMouseDown = (e, figure, index) => {\r\n  const onMouseDown: any = (e: React.MouseEvent, figure: FigureType, index: number) => {\r\n    onFigureClickHandler(e, figure, index)\r\n\r\n    // центр области Content\r\n    const [midY, midX] = getMidCoordinates(contentRef.current)\r\n\r\n    // svg-фигура для перемещения\r\n    const target: any = e.currentTarget.parentNode\r\n\r\n    // координаты для сдвига по осям (корректировка клика мыши в определенную область фигуры)\r\n    let shiftY = e.clientY - target.getBoundingClientRect().top\r\n    let shiftX = e.clientX - target.getBoundingClientRect().left\r\n\r\n    // позиционирование фигуры при перемещении\r\n    const moveFigureAt = (e: any) => {\r\n      target.style.top = e.pageY - midY - shiftY + 'px'\r\n      target.style.left = e.pageX - midX - shiftX + 'px'\r\n    }\r\n\r\n    document.addEventListener('mousemove', moveFigureAt)\r\n\r\n    target.onmouseup = function () {\r\n      document.removeEventListener('mousemove', moveFigureAt)\r\n\r\n      // сохранить позицию фигуры\r\n      const top = target.style.top\r\n      const left = target.style.left\r\n      onChangePositionHandler(index, top, left)\r\n      target.onmouseup = null\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={style.content}\r\n      ref={contentRef}\r\n      onClick={e => props.resetActiveFigure()}\r\n    >\r\n      <div className={style.content_mid}>\r\n        {\r\n          props.figures.map((figure, index) => {\r\n            const classes = [style[figure.type]]\r\n            // добавление border'a к выделенной фигуре\r\n            if (figure.zIndexCSS === activeId) {\r\n              classes.push(style.active)\r\n            }\r\n\r\n            return (\r\n              figure.type === 'triangle'\r\n                ?\r\n                // треугольники\r\n                <Triangle key={index}\r\n                  classes={classes}\r\n                  index={index}\r\n                  figure={figure}\r\n                  onMouseDown={onMouseDown}\r\n                  onFigureClickHandler={onFigureClickHandler}\r\n                  onKeyDown={onKeyDown}\r\n                />\r\n                :\r\n                // прямоугольники\r\n                figure.type === 'rectangle'\r\n                  ?\r\n                  <Rectangle key={index}\r\n                    classes={classes}\r\n                    index={index}\r\n                    figure={figure}\r\n                    onMouseDown={onMouseDown}\r\n                    onFigureClickHandler={onFigureClickHandler}\r\n                    onKeyDown={onKeyDown}\r\n                  />\r\n                  :\r\n                  // в остальных случаях:\r\n                  null\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: GetStateType) => {\r\n  return {\r\n    figures: state.figuresState.figures,\r\n    activeFigure: state.figuresState.activeFigure,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    getActiveFigure: (value: GetActiveFigureType) => dispatch(getactiveFigure(value)),\r\n    resetActiveFigure: () => dispatch(resetActiveFigure()),\r\n    onSavePosition: (index: number, top: string, left: string) => dispatch(onSavePosition(index, top, left)),\r\n    onDeleteKeyDownListener: (eCode: string, index: number) => dispatch(onDeleteKeyDownListener(eCode, index)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Content)","import React from 'react'\r\nimport style from './Section.module.css'\r\n\r\ntype Props = {\r\n  title: string\r\n}\r\n\r\nconst Section: React.FC<Props> = props => {\r\n  return (\r\n    <section className={style.section}>\r\n      <h2 className={style.section_title}>\r\n        {props.title}\r\n      </h2>\r\n      <div\r\n        className={style.section_content}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Section","import React from 'react'\r\nimport style from './Shapes.module.css'\r\nimport { Title } from '../../../../types'\r\n\r\ntype Props = {\r\n  createFigureHandler: (e: React.MouseEvent, name: Title) => void\r\n}\r\n\r\nconst Shapes: React.FC<Props> = props => {\r\n  return (\r\n    <>\r\n      <div\r\n        className={style.createButton + ' ' + style.rectangle}\r\n        title=\"create rectangle\"\r\n        onClick={e => {\r\n          props.createFigureHandler(e, 'rectangle')\r\n        }}\r\n      ></div>\r\n      <div\r\n        className={style.createButton + ' ' + style.triangle}\r\n        title=\"create triangle\"\r\n        onClick={e => {\r\n          props.createFigureHandler(e, 'triangle')\r\n        }}\r\n      ></div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Shapes","import React from 'react'\r\nimport { FigureType } from '../../../../types'\r\nimport style from './Style.module.css'\r\n\r\ntype Props = {\r\n  activeFigure: null | FigureType\r\n  color: string\r\n  onColorChange: (e: React.FormEvent<HTMLInputElement>) => void\r\n}\r\n\r\nconst Style: React.FC<Props> = props => {\r\n  // инпут неактивный, если фигура не выбрана\r\n  const disabled = props.activeFigure === null ? true : false\r\n\r\n  return (\r\n    <>\r\n      <label className={style.property}>Fill</label>\r\n      <input type=\"color\"\r\n        disabled={disabled}\r\n        className={style.input}\r\n        title=\"Color Picker\"\r\n        value={props.color}\r\n        style={{\r\n          backgroundColor: props.color\r\n        }}\r\n        onClick={(e: React.MouseEvent) => {\r\n          // остановить \"сброс выбранной фигуры\"\r\n          e.stopPropagation()\r\n        }}\r\n        onChange={props.onColorChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Style","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport style from './Sidebar.module.css'\r\nimport Section from './Section/Section'\r\nimport Shapes from './Section/Shapes/Shapes'\r\nimport Style from './Section/Style/Style'\r\nimport { FigureType } from '../../types'\r\nimport { GetStateType } from '../../index'\r\nimport { addNewFigure, resetActiveFigure, getNewColorToFigure } from '../../redux/actions/actionCreators'\r\n\r\ntype Props = {\r\n  activeFigure: null | FigureType\r\n  fillColor: string\r\n\r\n  addNewFigure: (name: string) => void\r\n  resetActiveFigure: () => void\r\n  getNewColorToFigure: (color: string) => void\r\n}\r\n\r\nconst Sidebar: React.FC<Props> = (props: any) => {\r\n  // добавление фигуры в рабочую область приложения\r\n  const createFigureHandler = (e: React.MouseEvent, name: string) => {\r\n    props.addNewFigure(name)\r\n  }\r\n\r\n  // Color Picker\r\n  const onColorChange = (e: React.FormEvent<HTMLInputElement>) => {\r\n    props.getNewColorToFigure(e.currentTarget.value)\r\n  }\r\n\r\n  // сбросить выделение активной фигуры\r\n  const resetActiveFigure = () => {\r\n    props.resetActiveFigure()\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={style.sidebar}\r\n      onClick={resetActiveFigure}\r\n    >\r\n      <Section title=\"Shapes\">\r\n        <Shapes createFigureHandler={createFigureHandler} />\r\n      </Section>\r\n      <Section title=\"Style\">\r\n        <Style\r\n          activeFigure={props.activeFigure}\r\n          onColorChange={onColorChange}\r\n          color={props.fillColor}\r\n        />\r\n      </Section>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: GetStateType) => {\r\n  return {\r\n    activeFigure: state.figuresState.activeFigure,\r\n    fillColor: state.fillColorState.fillColor,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    addNewFigure: (name: string) => dispatch(addNewFigure(name)),\r\n    resetActiveFigure: () => dispatch(resetActiveFigure()),\r\n    getNewColorToFigure: (color: string) => dispatch(getNewColorToFigure(color)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar)","import React from 'react'\r\nimport style from './App.module.css'\r\nimport Content from './components/Content/Content'\r\nimport Sidebar from './components/Sidebar/Sidebar'\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <main className={style.main}>\r\n      <Sidebar />\r\n      <Content />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const config = {\r\n  DEFAULT_FILL_COLOR: '#FFFFFF',\r\n  DEFAULT_FIGURE_COLOR: '#FF8C00',\r\n  DELETE_KEY_DOWN: 'Delete',\r\n  LOCAL_STORAGE_FIGURE: 'geoShapesStateFigures'\r\n}\r\n\r\nexport default config","import config from '../../config/config'\r\nimport { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"../actions/actionTypes\"\r\nimport { FigureType } from '../../types'\r\n\r\ntype StateType = {\r\n  figures: Array<FigureType>\r\n  maxZIndexCSS: number\r\n  activeFigure: null | FigureType\r\n}\r\n\r\ntype ActionType = {\r\n  type: string\r\n  name: 'triangle' | 'rectangle'\r\n  value: {\r\n    figure: FigureType\r\n    index: number\r\n  }\r\n  index: number\r\n  top: string\r\n  left: string\r\n  color: string\r\n  eCode: string\r\n}\r\n\r\nconst initialState: StateType = localStorage.getItem(config.LOCAL_STORAGE_FIGURE)\r\n  ? {\r\n    figures: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE) || '{}').figures,\r\n    maxZIndexCSS: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE) || '{}').maxZIndexCSS,\r\n    activeFigure: null,\r\n  }\r\n  : {\r\n    figures: [],\r\n    maxZIndexCSS: 0,\r\n    activeFigure: null,\r\n  }\r\n\r\nexport default function figuresReducer(state = initialState, action: ActionType) {\r\n\r\n  switch (action.type) {\r\n    case ADD_NEW_FIGURE:\r\n      const newFigure = {\r\n        zIndexCSS: state.maxZIndexCSS + 1,\r\n        type: action.name,\r\n        color: config.DEFAULT_FIGURE_COLOR,\r\n        position: {\r\n          top: 'calc(50% - 50px)',\r\n          left: 'calc(50% - 100px)'\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        maxZIndexCSS: state.maxZIndexCSS + 1,\r\n        figures: [...state.figures, newFigure],\r\n      }\r\n\r\n    case GET_ACTIVE_FIGURE:\r\n      if (action.value.figure.zIndexCSS < state.maxZIndexCSS) {\r\n        const figures = state.figures\r\n        figures[action.value.index].zIndexCSS = state.maxZIndexCSS + 1\r\n        return {\r\n          figures: figures,\r\n          maxZIndexCSS: state.maxZIndexCSS + 1,\r\n          activeFigure: action.value.figure\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        activeFigure: action.value.figure\r\n      }\r\n\r\n    case RESET_ACTIVE_FIGURE:\r\n      return {\r\n        ...state,\r\n        activeFigure: null\r\n      }\r\n\r\n    case SAVE_POSITION:\r\n      const figures = state.figures\r\n      figures[action.index].position.top = action.top\r\n      figures[action.index].position.left = action.left\r\n      return {\r\n        ...state,\r\n        figures: figures\r\n      }\r\n\r\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE:\r\n      const activeFigureId = state.activeFigure!.zIndexCSS\r\n      return {\r\n        ...state,\r\n        figures: [...state.figures.map(f => {\r\n          if (f.zIndexCSS === activeFigureId) {\r\n            return { ...f, color: action.color }\r\n          }\r\n          return f\r\n        })]\r\n      }\r\n\r\n    case KEY_LISTENER_DELETE:\r\n      if (action.eCode === config.DELETE_KEY_DOWN) {\r\n        const figures = state.figures\r\n        figures.splice(action.index, 1)\r\n        if (figures.length === 0) {\r\n          return {\r\n            figures: [],\r\n            maxZIndexCSS: 0,\r\n            activeFigure: null,\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          figures: figures,\r\n          activeFigure: null,\r\n        }\r\n      }\r\n      return state\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import config from \"../../config/config\"\r\nimport { KEY_LISTENER_DELETE, GET_ACTIVE_FIGURE, GET_NEW_COLOR_TO_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE } from \"../actions/actionTypes\"\r\n\r\ntype StateType = {\r\n  fillColor: typeof config.DEFAULT_FILL_COLOR // string - sidebar Fill-button color\r\n}\r\n\r\ntype ActionType = {\r\n  type: string\r\n  color: string\r\n  value: {\r\n    figure: {\r\n      color: string\r\n    }\r\n  }\r\n  eCode: string // keyboardEvent ecode (Delete)\r\n}\r\n\r\nconst initialState: StateType = {\r\n  fillColor: config.DEFAULT_FILL_COLOR\r\n}\r\n\r\nexport default function fillColorReducer(state: StateType = initialState, action: ActionType) {\r\n\r\n  switch (action.type) {\r\n    case RESET_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: config.DEFAULT_FILL_COLOR\r\n      }\r\n    case GET_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: action.value.figure.color\r\n      }\r\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: action.color\r\n      }\r\n    case KEY_LISTENER_DELETE:\r\n      if (action.eCode === config.DELETE_KEY_DOWN) {\r\n        return {\r\n          fillColor: config.DEFAULT_FILL_COLOR\r\n        }\r\n      }\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}","import {combineReducers} from 'redux'\r\n\r\nimport figuresState from './reducers/figuresReducer'\r\nimport fillColorState from './reducers/fillColorReducer'\r\n\r\nexport default combineReducers({\r\n  figuresState,\r\n  fillColorState\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './normalize.css'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport mainReducer from './redux/mainReducer'\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport { FigureType } from './types'\r\nimport config from './config/config'\r\n\r\n// function logger(store) {\r\n//   return next => action => {\r\n//     console.log('will dispatch', action)\r\n//     const returnValue = next(action)\r\n//     return returnValue\r\n//   }\r\n// }\r\n\r\nexport type GetStateType = {\r\n  figuresState: {\r\n    activeFigure: null | FigureType\r\n    figures: Array<FigureType>\r\n    maxZIndexCSS: number\r\n  }\r\n  fillColorState: {\r\n    fillColor: string\r\n  }\r\n}\r\n\r\ntype StoreType = {\r\n  dispatch: () => void\r\n  getState: () => GetStateType\r\n}\r\n\r\n// function saveToLocalStorage(store: any) {\r\nfunction saveToLocalStorage(store: StoreType) {\r\n  return (next: any) => (action: any) => {\r\n    const returnValue = next(action)\r\n\r\n    // сохранение части store в localStorage\r\n    const figuresState = store.getState().figuresState\r\n\r\n    localStorage.setItem(config.LOCAL_STORAGE_FIGURE, JSON.stringify(figuresState))\r\n\r\n    return returnValue\r\n  }\r\n}\r\n\r\n// const store = createStore(mainReducer, applyMiddleware(logger))\r\nconst store = createStore(mainReducer, applyMiddleware(saveToLocalStorage))\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(app, document.getElementById('root'))\r\n\r\nreportWebVitals()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__3ezxu\",\"content_mid\":\"Content_content_mid__3zYnE\",\"triangle\":\"Content_triangle__2rgQa\",\"rectangle\":\"Content_rectangle__kD5iT\",\"active\":\"Content_active__3Z43W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rectangle\":\"Shapes_rectangle__2fTpl\",\"triangle\":\"Shapes_triangle__pn10f\"};"],"sourceRoot":""}