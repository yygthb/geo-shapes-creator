(this["webpackJsonpgeo-shapes-creator"]=this["webpackJsonpgeo-shapes-creator"]||[]).push([[0],{11:function(e,t,n){e.exports={section:"Section_section__100xY",section_title:"Section_section_title__1-elN",section_content:"Section_section_content__2vFaE"}},16:function(e,t,n){e.exports={input:"Style_input__XbIRw"}},19:function(e,t,n){e.exports={main:"App_main___RaML"}},20:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__377mt"}},27:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),c=n(7),a=n.n(c),u=(n(27),n(28),n(9)),l=n(19),s=n.n(l),g=n(21),f=n(10),d={},_=function(e){var t=e.classes,n=e.figure,i=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(r.jsx)("svg",{width:"200",height:"100",draggable:"true",className:t.join(" "),id:"".concat(d[n.type],"_").concat(n.id),style:{zIndex:n.id,top:n.position.top,left:n.position.left},children:Object(r.jsx)("rect",{x:"0",y:"0",width:"200",height:"100",fill:n.color||"grey",className:"".concat(d[n.type],"_").concat(n.id),style:{cursor:"pointer",outline:"none",pointerEvents:"all"},onMouseDown:function(e){o.onMouseDown(e,n,i)},onClick:function(e){return o.onFigureClickHandler(e,n,i)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:i,onKeyDown:function(e){return o.onKeyDown(e,i)}})})},p={},O=function(e){var t=e.classes,n=e.figure,i=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(r.jsx)("svg",{width:"200",height:"100",className:t.join(" "),id:"".concat(p[n.type],"_").concat(n.id),style:{zIndex:n.id,top:n.position.top,left:n.position.left},children:Object(r.jsx)("polygon",{points:"0,100 100,0 200,100",fill:n.color||"grey",className:"".concat(p[n.type],"_").concat(n.id),style:{cursor:"pointer",outline:"none",pointerEvents:"all"},onMouseDown:function(e){o.onMouseDown(e,n,i)},onClick:function(e){return o.onFigureClickHandler(e,n,i)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:i,onKeyDown:function(e){return o.onKeyDown(e,i)}})})},v=n(5),F=n.n(v),j=function(e){var t=null!==e.activeFigure?e.activeFigure.id:0,n=o.a.createRef(),i=function(t,r,i){e.onFigureClickHandler(t,r,i);var o=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom,i=t.left;return[(r-n)/2,(t.right-i)/2+i]}(n.current),c=Object(g.a)(o,2),a=c[0],u=c[1],l=t.currentTarget.parentNode,s=t.clientY-l.getBoundingClientRect().top,f=t.clientX-l.getBoundingClientRect().left,d=function(e){l.style.top=e.pageY-a-s+"px",l.style.left=e.pageX-u-f+"px"};document.addEventListener("mousemove",d),l.onmouseup=function(){document.removeEventListener("mousemove",d);var t=l.style.top,n=l.style.left;e.onChangePositionHandler(i,t,n),l.onmouseup=null}};return Object(r.jsx)("div",{className:F.a.content,ref:n,onClick:function(t){return e.resetActiveFigure(t)},children:Object(r.jsx)("div",{className:F.a.content_mid,children:e.figures.map((function(n,o){var c=[F.a[n.type]];return n.id===t&&c.push(F.a.active),"triangle"===n.type?Object(r.jsx)(O,{classes:c,index:o,figure:n,onMouseDown:i,onFigureClickHandler:e.onFigureClickHandler,onKeyDown:e.onKeyDown},o):"rectangle"===n.type?Object(r.jsx)(_,{classes:c,index:o,figure:n,onMouseDown:i,onFigureClickHandler:e.onFigureClickHandler,onKeyDown:e.onKeyDown},o):null}))})})},C=n(20),x=n.n(C),b=n(11),m=n.n(b),E=function(e){return Object(r.jsxs)("section",{className:m.a.section,children:[Object(r.jsx)("h2",{className:m.a.section_title,children:e.title}),Object(r.jsx)("div",{className:m.a.section_content,children:e.children})]})},h=n(6),I=n.n(h),y=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:I.a.createButton+" "+I.a.rectangle,title:"create rectangle",onClick:function(t){e.createFigureHandler(t,"rectangle")}}),Object(r.jsx)("div",{className:I.a.createButton+" "+I.a.triangle,title:"create triangle",onClick:function(t){e.createFigureHandler(t,"triangle")}})]})},L=n(16),D=n.n(L),S=function(e){var t=null===e.activeFigure;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:D.a.property,children:"Fill"}),Object(r.jsx)("input",{type:"color",disabled:t,className:D.a.input,title:"Color Picker",value:e.color,style:{backgroundColor:e.color},onClick:function(e){e.stopPropagation()},onChange:e.onColorChange})]})},R=function(e){return Object(r.jsxs)("div",{className:x.a.sidebar,onClick:e.resetActiveFigure,children:[Object(r.jsx)(E,{title:"Shapes",children:Object(r.jsx)(y,{createFigureHandler:e.createFigureHandler})}),Object(r.jsx)(E,{title:"Style",children:Object(r.jsx)(S,{activeFigure:e.activeFigure,onColorChange:e.onColorChange,color:e.color})})]})},N="ADD_NEW_FIGURE",A="GET_ACTIVE_FIGURE",T="RESET_ACTIVE_FIGURE",w="SAVE_POSITION",U="GET_NEW_COLOR_TO_ACTIVE_FIGURE",k="KEY_LISTENER_DELETE";var G=Object(u.b)((function(e){return{figures:e.figuresState.figures,maxId:e.figuresState.maxId,activeFigure:e.figuresState.activeFigure,fillColor:e.fillColorState.fillColor}}),(function(e){return{addNewFigure:function(t){return e(function(e){return{type:N,name:e}}(t))},getActiveFigure:function(t){return e(function(e){return{type:A,value:e}}(t))},resetActiveFigure:function(){return e({type:T})},onSavePosition:function(t,n,r){return e(function(e,t,n){return{type:w,index:e,top:t,left:n}}(t,n,r))},getNewColorToFigure:function(t){return e(function(e){return{type:U,color:e}}(t))},onDeleteKeyDownListener:function(t,n){return e(function(e,t){return{type:k,eCode:e,index:t}}(t,n))}}}))((function(e){var t=function(t){e.resetActiveFigure()};return Object(r.jsxs)("main",{className:s.a.main,children:[Object(r.jsx)(R,{createFigureHandler:function(t,n){t.stopPropagation(),e.addNewFigure(n)},activeFigure:e.activeFigure,color:e.fillColor,onColorChange:function(t){e.getNewColorToFigure(t.target.value)},resetActiveFigure:t}),Object(r.jsx)(j,{figures:e.figures,activeFigure:e.activeFigure,onFigureClickHandler:function(t,n,r){t.stopPropagation(),e.getActiveFigure({figure:n,index:r})},onChangePositionHandler:function(t,n,r){e.onSavePosition(t,n,r)},resetActiveFigure:t,onKeyDown:function(t,n){e.onDeleteKeyDownListener(t.code,n)}})]})})),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))},H=n(3),P=n(17),M=n(2),B={DEFAULT_FILL_COLOR:"#FFFFFF",DEFAULT_FIGURE_COLOR:"#FF8C00",DELETE_KEY_DOWN:"Delete",LOCAL_STORAGE_FIGURE:"geoShapesStateFigures"},Y=localStorage.getItem(B.LOCAL_STORAGE_FIGURE)?{figures:JSON.parse(localStorage.getItem(B.LOCAL_STORAGE_FIGURE)).figures,maxId:JSON.parse(localStorage.getItem(B.LOCAL_STORAGE_FIGURE)).maxId,activeFigure:null}:{figures:[],maxId:0,activeFigure:null};var J={fillColor:B.DEFAULT_FILL_COLOR};var W=Object(H.c)({figuresState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n={id:e.maxId+1,type:t.name,color:B.DEFAULT_FIGURE_COLOR,position:{top:"calc(50% - 50px)",left:"calc(50% - 100px)"}};return Object(M.a)(Object(M.a)({},e),{},{maxId:e.maxId+1,activeFigure:n,figures:[].concat(Object(P.a)(e.figures),[n])});case A:if(t.value.figure.id<e.maxId){var r=e.figures;return r[t.value.index].id=e.maxId+1,Object(M.a)(Object(M.a)({},e),{},{figures:r,maxId:e.maxId+1,activeFigure:t.value.figure})}return Object(M.a)(Object(M.a)({},e),{},{activeFigure:t.value.figure});case T:return Object(M.a)(Object(M.a)({},e),{},{activeFigure:null});case w:var i=e.figures;return i[t.index].position.top=t.top,i[t.index].position.left=t.left,Object(M.a)(Object(M.a)({},e),{},{figures:i});case U:var o=e.activeFigure.id;return Object(M.a)(Object(M.a)({},e),{},{figures:Object(P.a)(e.figures.map((function(e){return e.id===o?Object(M.a)(Object(M.a)({},e),{},{color:t.color}):e})))});case k:if(t.eCode===B.DELETE_KEY_DOWN){var c=e.figures;return c.splice(t.index,1),0===c.length?{figures:[],maxId:0,activeFigure:null}:Object(M.a)(Object(M.a)({},e),{},{figures:c,activeFigure:null})}return e;default:return e}},fillColorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{fillColor:B.DEFAULT_FIGURE_COLOR};case T:return{fillColor:B.DEFAULT_FILL_COLOR};case A:return{fillColor:t.value.figure.color};case U:return{fillColor:t.color};case k:return t.eCode===B.DELETE_KEY_DOWN?{fillColor:B.DEFAULT_FILL_COLOR}:e;default:return e}}});var V=Object(H.d)(W,Object(H.a)((function(e){return function(t){return function(n){var r=t(n),i=e.getState().figuresState;return localStorage.setItem(B.LOCAL_STORAGE_FIGURE,JSON.stringify(i)),r}}}))),X=Object(r.jsx)(u.a,{store:V,children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(G,{})})});a.a.render(X,document.getElementById("root")),K()},5:function(e,t,n){e.exports={content:"Content_content__1NrZc",content_mid:"Content_content_mid__1rlBf",triangle:"Content_triangle__2RUPC",rectangle:"Content_rectangle__SobIB",active:"Content_active__2NMna"}},6:function(e,t,n){e.exports={rectangle:"Shapes_rectangle__ogurK",triangle:"Shapes_triangle__3O-gi"}}},[[35,1,2]]]);
//# sourceMappingURL=main.50515836.chunk.js.map