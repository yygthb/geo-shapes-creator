(this["webpackJsonpgeo-shapes-creator"]=this["webpackJsonpgeo-shapes-creator"]||[]).push([[0],{11:function(e,t,n){e.exports={section:"Section_section__1eXKc",section_title:"Section_section_title__2BWNQ",section_content:"Section_section_content__3m3j_"}},15:function(e,t,n){e.exports={input:"Style_input__16bJw"}},17:function(e,t,n){e.exports={main:"App_main__2-HaF"}},20:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__23a4D"}},27:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),o=n.n(i),c=n(8),a=n.n(c),u=(n(27),n(28),n(17)),l=n.n(u),s=n(21),g=n(4),f=n(10),d={},_=function(e){var t=e.classes,n=e.figure,i=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(r.jsx)("svg",{width:"200",height:"100",className:t.join(" "),id:"".concat(d[n.type],"_").concat(n.zIndexCSS),style:{zIndex:n.zIndexCSS,top:n.position.top,left:n.position.left},children:Object(r.jsx)("rect",{x:"0",y:"0",width:"200",height:"100",fill:n.color||"grey",className:"".concat(d[n.type],"_").concat(n.zIndexCSS),style:{cursor:"pointer",outline:"none",pointerEvents:"all"},onMouseDown:function(e){o.onMouseDown(e,n,i)},onClick:function(e){return o.onFigureClickHandler(e,n,i)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:i,onKeyDown:function(e){return o.onKeyDown(e,i)}})})},x={},p=function(e){var t=e.classes,n=e.figure,i=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(r.jsx)("svg",{width:"200",height:"100",className:t.join(" "),id:"".concat(x[n.type],"_").concat(n.zIndexCSS),style:{zIndex:n.zIndexCSS,top:n.position.top,left:n.position.left},children:Object(r.jsx)("polygon",{points:"0,100 100,0 200,100",fill:n.color||"grey",className:"".concat(x[n.type],"_").concat(n.zIndexCSS),style:{cursor:"pointer",outline:"none",pointerEvents:"all"},onMouseDown:function(e){o.onMouseDown(e,n,i)},onClick:function(e){return o.onFigureClickHandler(e,n,i)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:i,onKeyDown:function(e){return o.onKeyDown(e,i)}})})},S=n(6),C=n.n(S),O="ADD_NEW_FIGURE",j="GET_ACTIVE_FIGURE",v="RESET_ACTIVE_FIGURE",F="SAVE_POSITION",b="GET_NEW_COLOR_TO_ACTIVE_FIGURE",m="KEY_LISTENER_DELETE";function E(){return{type:v}}var I=Object(g.b)((function(e){return{figures:e.figuresState.figures,activeFigure:e.figuresState.activeFigure}}),(function(e){return{getActiveFigure:function(t){return e(function(e){return{type:j,value:e}}(t))},resetActiveFigure:function(){return e(E())},onSavePosition:function(t,n,r){return e(function(e,t,n){return{type:F,index:e,top:t,left:n}}(t,n,r))},onDeleteKeyDownListener:function(t,n){return e(function(e,t){return{type:m,eCode:e,index:t}}(t,n))}}}))((function(e){var t=0;null!==e.activeFigure&&(t=e.activeFigure.zIndexCSS);var n=o.a.createRef(),i=function(t,n,r){t.stopPropagation(),e.getActiveFigure({figure:n,index:r})},c=function(t,n){e.onDeleteKeyDownListener(t.code,n)},a=function(t,r,o){i(t,r,o);var c=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom,i=t.left;return[(r-n)/2,(t.right-i)/2+i]}(n.current),a=Object(s.a)(c,2),u=a[0],l=a[1],g=t.currentTarget.parentNode,f=t.clientY-g.getBoundingClientRect().top,d=t.clientX-g.getBoundingClientRect().left,_=function(e){g.style.top=e.pageY-u-f+"px",g.style.left=e.pageX-l-d+"px"};document.addEventListener("mousemove",_),g.onmouseup=function(){document.removeEventListener("mousemove",_);var t=g.style.top,n=g.style.left;!function(t,n,r){e.onSavePosition(t,n,r)}(o,t,n),g.onmouseup=null}};return Object(r.jsx)("div",{className:C.a.content,ref:n,onClick:function(t){return e.resetActiveFigure()},children:Object(r.jsx)("div",{className:C.a.content_mid,children:e.figures.map((function(e,n){var o=[C.a[e.type]];return e.zIndexCSS===t&&o.push(C.a.active),"triangle"===e.type?Object(r.jsx)(p,{classes:o,index:n,figure:e,onMouseDown:a,onFigureClickHandler:i,onKeyDown:c},n):"rectangle"===e.type?Object(r.jsx)(_,{classes:o,index:n,figure:e,onMouseDown:a,onFigureClickHandler:i,onKeyDown:c},n):null}))})})})),h=n(20),y=n.n(h),L=n(11),D=n.n(L),T=function(e){return Object(r.jsxs)("section",{className:D.a.section,children:[Object(r.jsx)("h2",{className:D.a.section_title,children:e.title}),Object(r.jsx)("div",{className:D.a.section_content,children:e.children})]})},N=n(7),R=n.n(N),A=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:R.a.createButton+" "+R.a.rectangle,title:"create rectangle",onClick:function(t){e.createFigureHandler(t,"rectangle")}}),Object(r.jsx)("div",{className:R.a.createButton+" "+R.a.triangle,title:"create triangle",onClick:function(t){e.createFigureHandler(t,"triangle")}})]})},w=n(15),G=n.n(w),z=function(e){var t=null===e.activeFigure;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:G.a.property,children:"Fill"}),Object(r.jsx)("input",{type:"color",disabled:t,className:G.a.input,title:"Color Picker",value:e.color,style:{backgroundColor:e.color},onClick:function(e){e.stopPropagation()},onChange:e.onColorChange})]})},U=Object(g.b)((function(e){return{activeFigure:e.figuresState.activeFigure,fillColor:e.fillColorState.fillColor}}),(function(e){return{addNewFigure:function(t){return e(function(e){return{type:O,name:e}}(t))},resetActiveFigure:function(){return e(E())},getNewColorToFigure:function(t){return e(function(e){return{type:b,color:e}}(t))}}}))((function(e){return Object(r.jsxs)("div",{className:y.a.sidebar,onClick:function(){e.resetActiveFigure()},children:[Object(r.jsx)(T,{title:"Shapes",children:Object(r.jsx)(A,{createFigureHandler:function(t,n){e.addNewFigure(n)}})}),Object(r.jsx)(T,{title:"Style",children:Object(r.jsx)(z,{activeFigure:e.activeFigure,onColorChange:function(t){e.getNewColorToFigure(t.currentTarget.value)},color:e.fillColor})})]})})),k=function(){return Object(r.jsxs)("main",{className:l.a.main,children:[Object(r.jsx)(U,{}),Object(r.jsx)(I,{})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))},Z=n(3),M=n(16),B=n(2),H={DEFAULT_FILL_COLOR:"#FFFFFF",DEFAULT_FIGURE_COLOR:"#FF8C00",DELETE_KEY_DOWN:"Delete",LOCAL_STORAGE_FIGURE:"geoShapesStateFigures"},P=localStorage.getItem(H.LOCAL_STORAGE_FIGURE)?{figures:JSON.parse(localStorage.getItem(H.LOCAL_STORAGE_FIGURE)||"{}").figures,maxZIndexCSS:JSON.parse(localStorage.getItem(H.LOCAL_STORAGE_FIGURE)||"{}").maxZIndexCSS,activeFigure:null}:{figures:[],maxZIndexCSS:0,activeFigure:null};var W={fillColor:H.DEFAULT_FILL_COLOR};var Y=Object(Z.c)({figuresState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n={zIndexCSS:e.maxZIndexCSS+1,type:t.name,color:H.DEFAULT_FIGURE_COLOR,position:{top:"calc(50% - 50px)",left:"calc(50% - 100px)"}};return Object(B.a)(Object(B.a)({},e),{},{maxZIndexCSS:e.maxZIndexCSS+1,figures:[].concat(Object(M.a)(e.figures),[n])});case j:if(t.value.figure.zIndexCSS<e.maxZIndexCSS){var r=e.figures;return r[t.value.index].zIndexCSS=e.maxZIndexCSS+1,{figures:r,maxZIndexCSS:e.maxZIndexCSS+1,activeFigure:t.value.figure}}return Object(B.a)(Object(B.a)({},e),{},{activeFigure:t.value.figure});case v:return Object(B.a)(Object(B.a)({},e),{},{activeFigure:null});case F:var i=e.figures;return i[t.index].position.top=t.top,i[t.index].position.left=t.left,Object(B.a)(Object(B.a)({},e),{},{figures:i});case b:var o=e.activeFigure.zIndexCSS;return Object(B.a)(Object(B.a)({},e),{},{figures:Object(M.a)(e.figures.map((function(e){return e.zIndexCSS===o?Object(B.a)(Object(B.a)({},e),{},{color:t.color}):e})))});case m:if(t.eCode===H.DELETE_KEY_DOWN){var c=e.figures;return c.splice(t.index,1),0===c.length?{figures:[],maxZIndexCSS:0,activeFigure:null}:Object(B.a)(Object(B.a)({},e),{},{figures:c,activeFigure:null})}return e;default:return e}},fillColorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{fillColor:H.DEFAULT_FILL_COLOR};case j:return{fillColor:t.value.figure.color};case b:return{fillColor:t.color};case m:return t.eCode===H.DELETE_KEY_DOWN?{fillColor:H.DEFAULT_FILL_COLOR}:e;default:return e}}});var J=Object(Z.d)(Y,Object(Z.a)((function(e){return function(t){return function(n){var r=t(n),i=e.getState().figuresState;return localStorage.setItem(H.LOCAL_STORAGE_FIGURE,JSON.stringify(i)),r}}}))),V=Object(r.jsx)(g.a,{store:J,children:Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(k,{})})});a.a.render(V,document.getElementById("root")),K()},6:function(e,t,n){e.exports={content:"Content_content__3ezxu",content_mid:"Content_content_mid__3zYnE",triangle:"Content_triangle__2rgQa",rectangle:"Content_rectangle__kD5iT",active:"Content_active__3Z43W"}},7:function(e,t,n){e.exports={rectangle:"Shapes_rectangle__2fTpl",triangle:"Shapes_triangle__pn10f"}}},[[37,1,2]]]);
//# sourceMappingURL=main.768b8efc.chunk.js.map