{"version":3,"sources":["components/Sidebar/Section/Style/Style.module.css","App.module.css","components/Sidebar/Sidebar.module.css","components/Figures/Rectangle.js","components/Figures/Triangle.js","components/Content/Content.js","components/Sidebar/Section/Section.js","components/Sidebar/Section/Shapes/Shapes.js","components/Sidebar/Section/Style/Style.js","components/Sidebar/Sidebar.js","redux/actions/actionTypes.js","App.js","redux/actions/actionCreators.js","reportWebVitals.js","config/config.js","redux/reducers/figuresReducer.js","redux/reducers/fillColorReducer.js","redux/mainReducer.js","index.js","components/Content/Content.module.css","components/Sidebar/Section/Shapes/Shapes.module.css","components/Sidebar/Section/Section.module.css"],"names":["module","exports","style","Rectangle","classes","figure","index","props","width","height","draggable","className","join","id","type","zIndex","top","position","left","x","y","fill","color","cursor","outline","onMouseDown","e","onClick","onFigureClickHandler","onContextMenu","preventDefault","onDragStart","tabIndex","onKeyDown","Triangle","points","Content","activeId","activeFigure","contentRef","React","createRef","el","getBoundingClientRect","bottom","right","getMidCoordinates","current","midY","midX","target","document","querySelector","baseVal","shiftY","clientY","shiftX","clientX","onMouseMove","pageY","pageX","moveAt","addEventListener","onmouseup","onChangePositionHandler","removeEventListener","content","ref","resetActiveFigure","content_mid","figures","map","push","active","Section","section","section_title","title","section_content","children","Shapes","createButton","rectangle","createFigureHandler","triangle","Style","disabled","property","input","value","backgroundColor","stopPropagation","onChange","onColorChange","Sidebar","sidebar","ADD_NEW_FIGURE","GET_ACTIVE_FIGURE","RESET_ACTIVE_FIGURE","SAVE_POSITION","GET_NEW_COLOR_TO_ACTIVE_FIGURE","KEY_LISTENER_DELETE","connect","state","figuresState","maxId","fillColor","fillColorState","dispatch","addNewFigure","name","getActiveFigure","getactiveFigure","onSavePosition","getNewColorToFigure","onDeleteKeyDownListener","eCode","main","code","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","DEFAULT_FILL_COLOR","DEFAULT_FIGURE_COLOR","DELETE_KEY_DOWN","LOCAL_STORAGE_FIGURE","initialState","localStorage","getItem","JSON","parse","combineReducers","action","prevFigures","activeFigureId","prevFigures2","findIndex","prevFigures3","splice","length","store","createStore","mainReducer","applyMiddleware","next","returnValue","getState","setItem","stringify","app","StrictMode","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0f0921f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Style_input__16bJw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__2-HaF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__23a4D\"};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst style = {}\r\n\r\nconst Rectangle = ({classes, figure, index, ...props}) => {\r\n\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      draggable=\"true\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.id}`}\r\n      style={{\r\n        zIndex: figure.id,\r\n        top: figure.position.top,\r\n        left: figure.position.left\r\n      }}\r\n    >\r\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.id}`}\r\n        style={{ cursor: 'pointer', outline: 'none' }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nRectangle.propTypes = {\r\n  classes: PropTypes.arrayOf(PropTypes.string),\r\n  figure: PropTypes.object.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  onkeydown: PropTypes.func\r\n}\r\n\r\nexport default Rectangle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst style = {}\r\n\r\nconst Triangle = ({classes, figure, index, ...props}) => {\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.id}`}\r\n      style={{\r\n        zIndex: figure.id,\r\n        top: figure.position.top,\r\n        left: figure.position.left,\r\n      }}\r\n    >\r\n      <polygon points=\"0,100 100,0 200,100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.id}`}\r\n        style={{ cursor: 'pointer', outline: 'none' }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nTriangle.propTypes = {\r\n  classes: PropTypes.arrayOf(PropTypes.string),\r\n  figure: PropTypes.object.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  onkeydown: PropTypes.func\r\n}\r\n\r\nexport default Triangle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Rectangle from '../Figures/Rectangle'\r\nimport Triangle from '../Figures/Triangle'\r\nimport style from './Content.module.css'\r\n\r\n// вычисление центра \"рабочей области\" - позиционирование фигуры относительно этого центра\r\nconst getMidCoordinates = el => {\r\n  const top = el.getBoundingClientRect().top\r\n  const bottom = el.getBoundingClientRect().bottom\r\n  const left = el.getBoundingClientRect().left\r\n  const right = el.getBoundingClientRect().right\r\n\r\n  const midY = (bottom - top) / 2\r\n  const midX = (right - left) / 2 + left\r\n\r\n  return [midY, midX]\r\n}\r\n\r\nconst Content = props => {\r\n  const activeId = props.activeFigure !== null ? props.activeFigure.id : 0\r\n  const contentRef = React.createRef()\r\n\r\n  // перемещение выделенной фигуры в рабочей области приложения \r\n  const onMouseDown = (e, figure, index) => {\r\n    //  ||  при перемещении фигура получает класс \"active\" - добавляются границы \r\n    //  ||  при нажатии Delete фигура удаляется (даже если не выделена)\r\n    props.onFigureClickHandler(e, figure, index)\r\n\r\n    // центр области Content\r\n    const [midY, midX] = getMidCoordinates(contentRef.current)\r\n\r\n    // svg-фигура для перемещения\r\n    const target = document.querySelector(`#${e.target.className.baseVal}`)\r\n\r\n    // координаты для сдвига по осям (корректировка клика мыши в определенную область фигуры)\r\n    let shiftY = e.clientY - target.getBoundingClientRect().top\r\n    let shiftX = e.clientX - target.getBoundingClientRect().left\r\n\r\n    // задание координат для абсолютного позиционирования перемещаемой фигуры относительно центра Content\r\n    function moveAt(pageY, pageX) {\r\n      const top = pageY - midY - shiftY + 'px'\r\n      const left = pageX - midX - shiftX + 'px'\r\n\r\n      target.style.top = top\r\n      target.style.left = left\r\n    }\r\n\r\n    // перемещение фигуры в области Content\r\n    function onMouseMove(e) {\r\n      // moveAt(e.pageY, e.pageX)\r\n      moveAt(e.clientY, e.clientX)\r\n    }\r\n\r\n    document.addEventListener('mousemove', onMouseMove)\r\n\r\n    target.onmouseup = function () {\r\n      // записать позицию выделенной фигуры в state для сохранения в localStorage\r\n      const top = target.style.top\r\n      const left = target.style.left\r\n      props.onChangePositionHandler(index, top, left)\r\n\r\n      document.removeEventListener('mousemove', onMouseMove)\r\n      target.onmouseup = null\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={style.content}\r\n      ref={contentRef}\r\n      onClick={e => props.resetActiveFigure(e)}\r\n    >\r\n      <div className={style.content_mid}>\r\n        {\r\n          props.figures.map((figure, index) => {\r\n            const classes = [style[figure.type]]\r\n            // добавление border'a к выделенной фигуре\r\n            if (figure.id === activeId) {\r\n              classes.push(style.active)\r\n            }\r\n\r\n            return (\r\n              figure.type === 'triangle'\r\n                ?\r\n                // треугольники\r\n                <Triangle key={index} \r\n                  classes={classes}\r\n                  index={index}\r\n                  figure={figure}\r\n                  onMouseDown={onMouseDown}\r\n                  onFigureClickHandler={props.onFigureClickHandler}\r\n                  onKeyDown={props.onKeyDown}\r\n                />\r\n                :\r\n                // прямоугольники\r\n                figure.type === 'rectangle'\r\n                  ?\r\n                  <Rectangle key={index}\r\n                    classes={classes}\r\n                    index={index}\r\n                    figure={figure}\r\n                    onMouseDown={onMouseDown}\r\n                    onFigureClickHandler={props.onFigureClickHandler}\r\n                    onKeyDown={props.onKeyDown}\r\n                  />\r\n                  :\r\n                  // в остальных случаях:\r\n                  null\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nContent.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  figures: PropTypes.arrayOf(PropTypes.object)\r\n  \r\n}\r\n\r\nexport default Content","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport style from './Section.module.css'\r\n\r\nconst Section = props => {\r\n  return (\r\n    <section className={style.section}>\r\n      <h2 className={style.section_title}>\r\n        {props.title}\r\n      </h2>\r\n      <div\r\n        className={style.section_content}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string\r\n}\r\n\r\nexport default Section","import PropTypes from 'prop-types'\r\nimport style from './Shapes.module.css'\r\n\r\nconst Shapes = props => {\r\n  return (\r\n    <>\r\n      <div\r\n        className={style.createButton + ' ' + style.rectangle}\r\n        title=\"create rectangle\"\r\n        onClick={e => {\r\n          props.createFigureHandler(e, 'rectangle')\r\n        }}\r\n      ></div>\r\n      <div\r\n        className={style.createButton + ' ' + style.triangle}\r\n        title=\"create triangle\"\r\n        onClick={e => {\r\n          props.createFigureHandler(e, 'triangle')\r\n        }}\r\n      ></div>\r\n    </>\r\n  )\r\n}\r\n\r\nShapes.propTypes = {\r\n  createFigureHandler: PropTypes.func\r\n}\r\n\r\nexport default Shapes","import PropTypes from 'prop-types'\r\nimport style from './Style.module.css'\r\n\r\nconst Style = props => {\r\n  // инпут неактивный, если фигура не выбрана\r\n  const disabled = props.activeFigure === null ? true : false\r\n\r\n  return (\r\n    <>\r\n      <label className={style.property}>Fill</label>\r\n      <input type=\"color\" \r\n        disabled={disabled}\r\n        className={style.input}\r\n        title=\"Color Picker\"\r\n        value={props.color}\r\n        style={{\r\n          backgroundColor: props.color\r\n        }}\r\n        onClick={e => {\r\n          // остановить \"сброс выбранной фигуры\"\r\n          e.stopPropagation()\r\n        }}\r\n        onChange={props.onColorChange}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nStyle.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  color: PropTypes.string.isRequired,\r\n  onColorChange: PropTypes.func\r\n}\r\n\r\nexport default Style","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport style from './Sidebar.module.css'\r\nimport Section from './Section/Section'\r\nimport Shapes from './Section/Shapes/Shapes'\r\nimport Style from './Section/Style/Style'\r\n\r\nconst Sidebar = props => {\r\n  return (\r\n    <div className={style.sidebar} onClick={props.resetActiveFigure}>\r\n      <Section title=\"Shapes\">\r\n        <Shapes createFigureHandler={props.createFigureHandler} />\r\n      </Section>\r\n      <Section title=\"Style\">\r\n        <Style\r\n          activeFigure={props.activeFigure}\r\n          onColorChange={props.onColorChange}\r\n          color={props.color}\r\n        />\r\n      </Section>\r\n    </div>\r\n  )\r\n}\r\n\r\nSidebar.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  color: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Sidebar","export const ADD_NEW_FIGURE = 'ADD_NEW_FIGURE'\r\nexport const GET_ACTIVE_FIGURE = 'GET_ACTIVE_FIGURE'\r\nexport const RESET_ACTIVE_FIGURE = 'RESET_ACTIVE_FIGURE'\r\nexport const SAVE_POSITION = 'SAVE_POSITION'\r\nexport const GET_NEW_COLOR_TO_ACTIVE_FIGURE = 'GET_NEW_COLOR_TO_ACTIVE_FIGURE'\r\nexport const KEY_LISTENER_DELETE = 'KEY_LISTENER_DELETE'","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {connect} from 'react-redux'\r\nimport style from './App.module.css'\r\nimport Content from './components/Content/Content'\r\nimport Sidebar from './components/Sidebar/Sidebar'\r\nimport { addNewFigure, getactiveFigure, resetActiveFigure, onSavePosition, getNewColorToFigure, onDeleteKeyDownListener } from './redux/actions/actionCreators'\r\n\r\nfunction App (props) {\r\n\r\n  // добавление фигуры в рабочую область приложения\r\n  const createFigureHandler = (e, name) => {\r\n    e.stopPropagation()\r\n    props.addNewFigure(name)\r\n  }\r\n\r\n  // события по клику на фигуру в рабочей области\r\n  const onFigureClickHandler = (e, figure, index) => {\r\n    e.stopPropagation()\r\n    props.getActiveFigure({figure, index})\r\n  }\r\n\r\n  // переписывать позиционирование двигаемой фигуры (для последующей записи в localstorage)\r\n  const onChangePositionHandler = (index, top, left) => {\r\n    props.onSavePosition(index, top, left)\r\n  }\r\n\r\n  // сбросить выделение активной фигуры\r\n  const resetActiveFigure = (e) => {\r\n    props.resetActiveFigure()\r\n  }\r\n\r\n  // Color Picker\r\n  const onColorChange = e => {\r\n    props.getNewColorToFigure(e.target.value)\r\n  }\r\n\r\n  // Удаление выделенной фигуры по нажатию на кнопку клавиатуры\r\n  const onKeyDown = (e, index) => {\r\n    props.onDeleteKeyDownListener(e.code, index)\r\n  }\r\n\r\n  return (\r\n    <main className={style.main}>\r\n      <Sidebar\r\n        createFigureHandler={createFigureHandler}\r\n        activeFigure={props.activeFigure}\r\n        color={props.fillColor}\r\n        onColorChange={onColorChange}\r\n        resetActiveFigure={resetActiveFigure}\r\n      />\r\n      <Content\r\n        figures={props.figures}\r\n        activeFigure={props.activeFigure}\r\n        onFigureClickHandler={onFigureClickHandler}\r\n        onChangePositionHandler={onChangePositionHandler}\r\n        resetActiveFigure={resetActiveFigure}\r\n        onKeyDown={onKeyDown}\r\n      />\r\n    </main>\r\n  )\r\n}\r\n\r\nApp.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  fillColor: PropTypes.string.isRequired,\r\n  figures: PropTypes.arrayOf(PropTypes.object).isRequired\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    figures: state.figuresState.figures,\r\n    maxId: state.figuresState.maxId,\r\n    activeFigure: state.figuresState.activeFigure,\r\n    fillColor: state.fillColorState.fillColor,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addNewFigure: name => dispatch(addNewFigure(name)),\r\n    getActiveFigure: value => dispatch(getactiveFigure(value)),\r\n    resetActiveFigure: () => dispatch(resetActiveFigure()),\r\n    onSavePosition: (index, top, left) => dispatch(onSavePosition(index, top, left)),\r\n    getNewColorToFigure: (color) => dispatch(getNewColorToFigure(color)),\r\n    onDeleteKeyDownListener: (eCode, index) => dispatch(onDeleteKeyDownListener(eCode, index)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"./actionTypes\";\r\n\r\nexport function addNewFigure(name) {\r\n  return {\r\n    type: ADD_NEW_FIGURE,\r\n    name\r\n  }\r\n}\r\n\r\nexport function getactiveFigure(value) {\r\n  return {\r\n    type: GET_ACTIVE_FIGURE,\r\n    value\r\n  }\r\n}\r\n\r\nexport function resetActiveFigure() {\r\n  return {\r\n    type: RESET_ACTIVE_FIGURE\r\n  }\r\n}\r\n\r\nexport function onSavePosition(index, top, left) {\r\n  return {\r\n    type: SAVE_POSITION,\r\n    index, top, left,\r\n  }\r\n}\r\n\r\nexport function getNewColorToFigure(color) {\r\n  return {\r\n    type: GET_NEW_COLOR_TO_ACTIVE_FIGURE,\r\n    color\r\n  }\r\n}\r\n\r\nexport function onDeleteKeyDownListener(eCode, index) {\r\n  return {\r\n    type: KEY_LISTENER_DELETE,\r\n    eCode, index\r\n  }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const config = {\r\n  DEFAULT_FILL_COLOR: '#FFFFFF',\r\n  DEFAULT_FIGURE_COLOR: '#FF8C00',\r\n  DELETE_KEY_DOWN: 'Delete',\r\n  LOCAL_STORAGE_FIGURE: 'geoShapesStateFigures'\r\n}\r\n\r\nexport default config","import config from '../../config/config'\r\nimport { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"../actions/actionTypes\"\r\n\r\nconst initialState = localStorage.getItem(config.LOCAL_STORAGE_FIGURE)\r\n? {\r\n  figures: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE)).figures,\r\n  maxId: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE)).maxId,\r\n  activeFigure: null,\r\n}\r\n: {\r\n  figures: [],\r\n  maxId: 0,\r\n  activeFigure: null,\r\n}\r\n\r\nexport default function figuresReducer (state = initialState, action) {\r\n\r\n  switch(action.type) {\r\n    case ADD_NEW_FIGURE:\r\n      const figures = state.figures\r\n      const maxId = state.maxId + 1\r\n      figures.push({\r\n        id: maxId,\r\n        type: action.name,\r\n        color: config.DEFAULT_FIGURE_COLOR,\r\n        position: {\r\n          top: 'calc(50% - 50px)',\r\n          left: 'calc(50% - 100px)'\r\n        }    \r\n      })\r\n      return {\r\n        ...state,\r\n        figures: figures,\r\n        maxId: maxId,\r\n        activeFigure: null,\r\n      }\r\n    case GET_ACTIVE_FIGURE:\r\n      if (action.value.figure.id < state.maxId) {\r\n        const figures = state.figures\r\n        figures[action.value.index].id = state.maxId + 1\r\n        return {\r\n          ...state,\r\n          figures: figures,\r\n          maxId: state.maxId + 1,\r\n          activeFigure: action.value.figure\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        activeFigure: action.value.figure\r\n      }\r\n    case RESET_ACTIVE_FIGURE:\r\n      return {\r\n        ...state,\r\n        activeFigure: null\r\n      }\r\n    case SAVE_POSITION:\r\n      const prevFigures = state.figures\r\n      prevFigures[action.index].position.top = action.top\r\n      prevFigures[action.index].position.left = action.left\r\n      return {\r\n        ...state,\r\n        figures: prevFigures\r\n      }\r\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE:\r\n      const activeFigureId = state.activeFigure.id\r\n      const prevFigures2 = state.figures\r\n      const index = prevFigures2.findIndex(figure => figure.id === activeFigureId)\r\n      prevFigures2[index].color = action.color\r\n      return {\r\n        ...state,\r\n        figures: prevFigures2\r\n      }\r\n    case KEY_LISTENER_DELETE:\r\n      if (action.eCode === config.DELETE_KEY_DOWN) {\r\n        const prevFigures3 = state.figures\r\n        prevFigures3.splice(action.index, 1)\r\n        if (prevFigures3.length === 0) {\r\n          return {\r\n            figures: [],\r\n            maxId: 0,\r\n            activeFigure: null,\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          figures: prevFigures3,\r\n          activeFigure: null,\r\n        }\r\n      }\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}","import config from \"../../config/config\"\r\nimport { KEY_LISTENER_DELETE, GET_ACTIVE_FIGURE, GET_NEW_COLOR_TO_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, ADD_NEW_FIGURE } from \"../actions/actionTypes\"\r\n\r\nconst initialState = {\r\n  fillColor: config.DEFAULT_FILL_COLOR\r\n}\r\n\r\nexport default function fillColorReducer (state = initialState, action) {\r\n\r\n  switch(action.type) {\r\n    case ADD_NEW_FIGURE:\r\n      return {\r\n        fillColor: config.DEFAULT_FILL_COLOR\r\n      }\r\n    case RESET_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: config.DEFAULT_FILL_COLOR\r\n      }\r\n    case GET_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: action.value.figure.color\r\n      }\r\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE:\r\n      return {\r\n        fillColor: action.color\r\n      }\r\n    case KEY_LISTENER_DELETE:\r\n      if (action.eCode === config.DELETE_KEY_DOWN) {\r\n        return {\r\n          fillColor: config.DEFAULT_FILL_COLOR\r\n        }\r\n      }\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}","import {combineReducers} from 'redux'\r\n\r\nimport figuresState from './reducers/figuresReducer'\r\nimport fillColorState from './reducers/fillColorReducer'\r\n\r\nexport default combineReducers({\r\n  figuresState,\r\n  fillColorState\r\n})","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './normalize.css'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport {createStore, applyMiddleware} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport mainReducer from './redux/mainReducer'\r\nimport config from './config/config'\r\n\r\n// function logger(store) {\r\n//   return next => action => {\r\n//     console.log('will dispatch', action)\r\n//     const returnValue = next(action)\r\n//     return returnValue\r\n//   }\r\n// }\r\n\r\nfunction saveToLocalStorage(store) {\r\n  return next => action => {\r\n    const returnValue = next(action)\r\n\r\n    // сохранение части store в localStorage\r\n    const figuresState = store.getState().figuresState\r\n\r\n    localStorage.setItem(config.LOCAL_STORAGE_FIGURE, JSON.stringify(figuresState))\r\n\r\n    return returnValue\r\n  }\r\n}\r\n\r\n// const store = createStore(mainReducer, applyMiddleware(logger))\r\nconst store = createStore(mainReducer, applyMiddleware(saveToLocalStorage))\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>\r\n)\r\n\r\nReactDOM.render(app, document.getElementById('root'))\r\n\r\nreportWebVitals()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__3ezxu\",\"content_mid\":\"Content_content_mid__3zYnE\",\"triangle\":\"Content_triangle__2rgQa\",\"rectangle\":\"Content_rectangle__kD5iT\",\"active\":\"Content_active__3Z43W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rectangle\":\"Shapes_rectangle__2fTpl\",\"triangle\":\"Shapes_triangle__pn10f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__1eXKc\",\"section_title\":\"Section_section_title__2BWNQ\",\"section_content\":\"Section_section_content__3m3j_\"};"],"sourceRoot":""}