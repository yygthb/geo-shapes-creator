(this["webpackJsonpgeo-shapes-creator"]=this["webpackJsonpgeo-shapes-creator"]||[]).push([[0],{14:function(e,t,n){e.exports={input:"Style_input__16bJw"}},16:function(e,t,n){e.exports={main:"App_main__2-HaF"}},17:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__23a4D"}},24:function(e,t,n){},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),o=n.n(r),c=n(6),a=n.n(c),u=(n(24),n(25),n(7)),l=n(16),s=n.n(l),g=n(18),f=n(8),d={},_=function(e){var t=e.classes,n=e.figure,r=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(i.jsx)("svg",{width:"200",height:"100",draggable:"true",className:t.join(" "),id:"".concat(d[n.type],"_").concat(n.id),style:{zIndex:n.id,top:n.position.top,left:n.position.left},children:Object(i.jsx)("rect",{x:"0",y:"0",width:"200",height:"100",fill:n.color||"grey",className:"".concat(d[n.type],"_").concat(n.id),style:{cursor:"pointer",outline:"none"},onMouseDown:function(e){o.onMouseDown(e,n,r)},onClick:function(e){return o.onFigureClickHandler(e,n,r)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:r,onKeyDown:function(e){return o.onKeyDown(e,r)}})})},p={},v=function(e){var t=e.classes,n=e.figure,r=e.index,o=Object(f.a)(e,["classes","figure","index"]);return Object(i.jsx)("svg",{width:"200",height:"100",className:t.join(" "),id:"".concat(p[n.type],"_").concat(n.id),style:{zIndex:n.id,top:n.position.top,left:n.position.left},children:Object(i.jsx)("polygon",{points:"0,100 100,0 200,100",fill:n.color||"grey",className:"".concat(p[n.type],"_").concat(n.id),style:{cursor:"pointer",outline:"none"},onMouseDown:function(e){o.onMouseDown(e,n,r)},onClick:function(e){return o.onFigureClickHandler(e,n,r)},onContextMenu:function(e){return e.preventDefault()},onDragStart:function(e){return e.preventDefault()},tabIndex:r,onKeyDown:function(e){return o.onKeyDown(e,r)}})})},F=n(4),O=n.n(F),j=function(e){var t=null!==e.activeFigure?e.activeFigure.id:0,n=o.a.createRef(),r=function(t,i,r){e.onFigureClickHandler(t,i,r);var o=function(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom,i=e.getBoundingClientRect().left;return[(n-t)/2,(e.getBoundingClientRect().right-i)/2+i]}(n.current),c=Object(g.a)(o,2),a=c[0],u=c[1],l=document.querySelector("#".concat(t.target.className.baseVal)),s=t.clientY-l.getBoundingClientRect().top,f=t.clientX-l.getBoundingClientRect().left;function d(e){!function(e,t){var n=e-a-s+"px",i=t-u-f+"px";l.style.top=n,l.style.left=i}(e.clientY,e.clientX)}document.addEventListener("mousemove",d),l.onmouseup=function(){var t=l.style.top,n=l.style.left;e.onChangePositionHandler(r,t,n),document.removeEventListener("mousemove",d),l.onmouseup=null}};return Object(i.jsx)("div",{className:O.a.content,ref:n,onClick:function(t){return e.resetActiveFigure(t)},children:Object(i.jsx)("div",{className:O.a.content_mid,children:e.figures.map((function(n,o){var c=[O.a[n.type]];return n.id===t&&c.push(O.a.active),"triangle"===n.type?Object(i.jsx)(v,{classes:c,index:o,figure:n,onMouseDown:r,onFigureClickHandler:e.onFigureClickHandler,onKeyDown:e.onKeyDown},o):"rectangle"===n.type?Object(i.jsx)(_,{classes:c,index:o,figure:n,onMouseDown:r,onFigureClickHandler:e.onFigureClickHandler,onKeyDown:e.onKeyDown},o):null}))})})},C=n(17),x=n.n(C),b=n(9),m=n.n(b),h=function(e){return Object(i.jsxs)("section",{className:m.a.section,children:[Object(i.jsx)("h2",{className:m.a.section_title,children:e.title}),Object(i.jsx)("div",{className:m.a.section_content,children:e.children})]})},E=n(5),y=n.n(E),D=function(e){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:y.a.createButton+" "+y.a.rectangle,title:"create rectangle",onClick:function(t){e.createFigureHandler(t,"rectangle")}}),Object(i.jsx)("div",{className:y.a.createButton+" "+y.a.triangle,title:"create triangle",onClick:function(t){e.createFigureHandler(t,"triangle")}})]})},I=n(14),L=n.n(I),S=function(e){var t=null===e.activeFigure;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{className:L.a.property,children:"Fill"}),Object(i.jsx)("input",{type:"color",disabled:t,className:L.a.input,title:"Color Picker",value:e.color,style:{backgroundColor:e.color},onClick:function(e){e.stopPropagation()},onChange:e.onColorChange})]})},R=function(e){return Object(i.jsxs)("div",{className:x.a.sidebar,onClick:e.resetActiveFigure,children:[Object(i.jsx)(h,{title:"Shapes",children:Object(i.jsx)(D,{createFigureHandler:e.createFigureHandler})}),Object(i.jsx)(h,{title:"Style",children:Object(i.jsx)(S,{activeFigure:e.activeFigure,onColorChange:e.onColorChange,color:e.color})})]})},N="ADD_NEW_FIGURE",A="GET_ACTIVE_FIGURE",T="RESET_ACTIVE_FIGURE",w="SAVE_POSITION",k="GET_NEW_COLOR_TO_ACTIVE_FIGURE",G="KEY_LISTENER_DELETE";var U=Object(u.b)((function(e){return{figures:e.figuresState.figures,maxId:e.figuresState.maxId,activeFigure:e.figuresState.activeFigure,fillColor:e.fillColorState.fillColor}}),(function(e){return{addNewFigure:function(t){return e(function(e){return{type:N,name:e}}(t))},getActiveFigure:function(t){return e(function(e){return{type:A,value:e}}(t))},resetActiveFigure:function(){return e({type:T})},onSavePosition:function(t,n,i){return e(function(e,t,n){return{type:w,index:e,top:t,left:n}}(t,n,i))},getNewColorToFigure:function(t){return e(function(e){return{type:k,color:e}}(t))},onDeleteKeyDownListener:function(t,n){return e(function(e,t){return{type:G,eCode:e,index:t}}(t,n))}}}))((function(e){var t=function(t){e.resetActiveFigure()};return Object(i.jsxs)("main",{className:s.a.main,children:[Object(i.jsx)(R,{createFigureHandler:function(t,n){t.stopPropagation(),e.addNewFigure(n)},activeFigure:e.activeFigure,color:e.fillColor,onColorChange:function(t){e.getNewColorToFigure(t.target.value)},resetActiveFigure:t}),Object(i.jsx)(j,{figures:e.figures,activeFigure:e.activeFigure,onFigureClickHandler:function(t,n,i){t.stopPropagation(),e.getActiveFigure({figure:n,index:i})},onChangePositionHandler:function(t,n,i){e.onSavePosition(t,n,i)},resetActiveFigure:t,onKeyDown:function(t,n){e.onDeleteKeyDownListener(t.code,n)}})]})})),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),o(e),c(e)}))},K=n(3),B=n(2),P={DEFAULT_FILL_COLOR:"#FFFFFF",DEFAULT_FIGURE_COLOR:"#FF8C00",DELETE_KEY_DOWN:"Delete",LOCAL_STORAGE_FIGURE:"geoShapesStateFigures"},M=localStorage.getItem(P.LOCAL_STORAGE_FIGURE)?{figures:JSON.parse(localStorage.getItem(P.LOCAL_STORAGE_FIGURE)).figures,maxId:JSON.parse(localStorage.getItem(P.LOCAL_STORAGE_FIGURE)).maxId,activeFigure:null}:{figures:[],maxId:0,activeFigure:null};var W={fillColor:P.DEFAULT_FILL_COLOR};var Y=Object(K.c)({figuresState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n=e.figures,i=e.maxId+1;return n.push({id:i,type:t.name,color:P.DEFAULT_FIGURE_COLOR,position:{top:"calc(50% - 50px)",left:"calc(50% - 100px)"}}),Object(B.a)(Object(B.a)({},e),{},{figures:n,maxId:i,activeFigure:null});case A:if(t.value.figure.id<e.maxId){var r=e.figures;return r[t.value.index].id=e.maxId+1,Object(B.a)(Object(B.a)({},e),{},{figures:r,maxId:e.maxId+1,activeFigure:t.value.figure})}return Object(B.a)(Object(B.a)({},e),{},{activeFigure:t.value.figure});case T:return Object(B.a)(Object(B.a)({},e),{},{activeFigure:null});case w:var o=e.figures;return o[t.index].position.top=t.top,o[t.index].position.left=t.left,Object(B.a)(Object(B.a)({},e),{},{figures:o});case k:var c=e.activeFigure.id,a=e.figures,u=a.findIndex((function(e){return e.id===c}));return a[u].color=t.color,Object(B.a)(Object(B.a)({},e),{},{figures:a});case G:if(t.eCode===P.DELETE_KEY_DOWN){var l=e.figures;return l.splice(t.index,1),0===l.length?{figures:[],maxId:0,activeFigure:null}:Object(B.a)(Object(B.a)({},e),{},{figures:l,activeFigure:null})}return e;default:return e}},fillColorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case T:return{fillColor:P.DEFAULT_FILL_COLOR};case A:return{fillColor:t.value.figure.color};case k:return{fillColor:t.color};case G:return t.eCode===P.DELETE_KEY_DOWN?{fillColor:P.DEFAULT_FILL_COLOR}:e;default:return e}}});var J=Object(K.d)(Y,Object(K.a)((function(e){return function(t){return function(n){var i=t(n),r=e.getState().figuresState;return localStorage.setItem(P.LOCAL_STORAGE_FIGURE,JSON.stringify(r)),i}}}))),V=Object(i.jsx)(u.a,{store:J,children:Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(U,{})})});a.a.render(V,document.getElementById("root")),H()},4:function(e,t,n){e.exports={content:"Content_content__3ezxu",content_mid:"Content_content_mid__3zYnE",triangle:"Content_triangle__2rgQa",rectangle:"Content_rectangle__kD5iT",active:"Content_active__3Z43W"}},5:function(e,t,n){e.exports={rectangle:"Shapes_rectangle__2fTpl",triangle:"Shapes_triangle__pn10f"}},9:function(e,t,n){e.exports={section:"Section_section__1eXKc",section_title:"Section_section_title__2BWNQ",section_content:"Section_section_content__3m3j_"}}},[[32,1,2]]]);
//# sourceMappingURL=main.0f0921f3.chunk.js.map