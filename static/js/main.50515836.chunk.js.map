{"version":3,"sources":["components/Sidebar/Section/Section.module.css","components/Sidebar/Section/Style/Style.module.css","App.module.css","components/Sidebar/Sidebar.module.css","components/Figures/Rectangle.js","components/Figures/Triangle.js","components/Content/Content.js","components/Sidebar/Section/Section.js","components/Sidebar/Section/Shapes/Shapes.js","components/Sidebar/Section/Style/Style.js","components/Sidebar/Sidebar.js","redux/actions/actionTypes.js","App.js","redux/actions/actionCreators.js","reportWebVitals.js","config/config.js","redux/reducers/figuresReducer.js","redux/reducers/fillColorReducer.js","redux/mainReducer.js","index.js","components/Content/Content.module.css","components/Sidebar/Section/Shapes/Shapes.module.css"],"names":["module","exports","style","Rectangle","classes","figure","index","props","width","height","draggable","className","join","id","type","zIndex","top","position","left","x","y","fill","color","cursor","outline","pointerEvents","onMouseDown","e","onClick","onFigureClickHandler","onContextMenu","preventDefault","onDragStart","tabIndex","onKeyDown","Triangle","points","Content","activeId","activeFigure","contentRef","React","createRef","el","getBoundingClientRect","bottom","right","getMidCoordinates","current","midY","midX","target","currentTarget","parentNode","shiftY","clientY","shiftX","clientX","moveFigureAt","pageY","pageX","document","addEventListener","onmouseup","removeEventListener","onChangePositionHandler","content","ref","resetActiveFigure","content_mid","figures","map","push","active","Section","section","section_title","title","section_content","children","Shapes","createButton","rectangle","createFigureHandler","triangle","Style","disabled","property","input","value","backgroundColor","stopPropagation","onChange","onColorChange","Sidebar","sidebar","ADD_NEW_FIGURE","GET_ACTIVE_FIGURE","RESET_ACTIVE_FIGURE","SAVE_POSITION","GET_NEW_COLOR_TO_ACTIVE_FIGURE","KEY_LISTENER_DELETE","connect","state","figuresState","maxId","fillColor","fillColorState","dispatch","addNewFigure","name","getActiveFigure","getactiveFigure","onSavePosition","getNewColorToFigure","onDeleteKeyDownListener","eCode","main","code","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","DEFAULT_FILL_COLOR","DEFAULT_FIGURE_COLOR","DELETE_KEY_DOWN","LOCAL_STORAGE_FIGURE","initialState","localStorage","getItem","JSON","parse","combineReducers","action","newFigure","activeFigureId","f","splice","length","store","createStore","mainReducer","applyMiddleware","next","returnValue","getState","setItem","stringify","app","StrictMode","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.50515836.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__100xY\",\"section_title\":\"Section_section_title__1-elN\",\"section_content\":\"Section_section_content__2vFaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Style_input__XbIRw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main___RaML\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__377mt\"};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst style = {}\r\n\r\nconst Rectangle = ({ classes, figure, index, ...props }) => {\r\n\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      draggable=\"true\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.id}`}\r\n      style={{\r\n        zIndex: figure.id,\r\n        top: figure.position.top,\r\n        left: figure.position.left\r\n      }}\r\n    >\r\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.id}`}\r\n        style={{\r\n          cursor: 'pointer',\r\n          outline: 'none',\r\n          pointerEvents: 'all'\r\n        }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nRectangle.propTypes = {\r\n  onkeydown: PropTypes.func,\r\n  classes: PropTypes.arrayOf(PropTypes.string),\r\n  index: PropTypes.number.isRequired,\r\n  figure: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    type: PropTypes.string,\r\n    color: PropTypes.string,\r\n    position: PropTypes.shape({\r\n      top: PropTypes.string,\r\n      left: PropTypes.string,\r\n    })\r\n  }).isRequired\r\n}\r\n\r\nexport default Rectangle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nconst style = {}\r\n\r\nconst Triangle = ({ classes, figure, index, ...props }) => {\r\n  return (\r\n    <svg width=\"200\" height=\"100\"\r\n      className={classes.join(' ')}\r\n      id={`${style[figure.type]}_${figure.id}`}\r\n      style={{\r\n        zIndex: figure.id,\r\n        top: figure.position.top,\r\n        left: figure.position.left,\r\n      }}\r\n    >\r\n      <polygon points=\"0,100 100,0 200,100\"\r\n        fill={figure.color || 'grey'}\r\n        className={`${style[figure.type]}_${figure.id}`}\r\n        style={{\r\n          cursor: 'pointer',\r\n          outline: 'none',\r\n          pointerEvents: 'all'\r\n        }}\r\n        onMouseDown={e => {\r\n          props.onMouseDown(e, figure, index)\r\n        }}\r\n        onClick={(e) => props.onFigureClickHandler(e, figure, index)}\r\n        onContextMenu={e => e.preventDefault()}\r\n        onDragStart={e => e.preventDefault()}\r\n        tabIndex={index}\r\n        onKeyDown={e => props.onKeyDown(e, index)}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nTriangle.propTypes = {\r\n  onkeydown: PropTypes.func,\r\n  classes: PropTypes.arrayOf(PropTypes.string),\r\n  index: PropTypes.number.isRequired,\r\n  figure: PropTypes.shape({\r\n    id: PropTypes.number,\r\n    type: PropTypes.string,\r\n    color: PropTypes.string,\r\n    position: PropTypes.shape({\r\n      top: PropTypes.string,\r\n      left: PropTypes.string,\r\n    })\r\n  }).isRequired\r\n}\r\n\r\nexport default Triangle","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Rectangle from '../Figures/Rectangle'\r\nimport Triangle from '../Figures/Triangle'\r\nimport style from './Content.module.css'\r\n\r\n// вычисление центра \"рабочей области\" - позиционирование фигуры относительно этого центра\r\nconst getMidCoordinates = el => {\r\n  const { top, bottom, left, right } = el.getBoundingClientRect()\r\n\r\n  const midY = (bottom - top) / 2\r\n  const midX = (right - left) / 2 + left\r\n\r\n  return [midY, midX]\r\n}\r\n\r\nconst Content = props => {\r\n  const activeId = props.activeFigure !== null ? props.activeFigure.id : 0\r\n  const contentRef = React.createRef()\r\n\r\n  const onMouseDown = (e, figure, index) => {\r\n    props.onFigureClickHandler(e, figure, index)\r\n\r\n    // центр области Content\r\n    const [midY, midX] = getMidCoordinates(contentRef.current)\r\n\r\n    // svg-фигура для перемещения\r\n    const target = e.currentTarget.parentNode\r\n\r\n    // координаты для сдвига по осям (корректировка клика мыши в определенную область фигуры)\r\n    let shiftY = e.clientY - target.getBoundingClientRect().top\r\n    let shiftX = e.clientX - target.getBoundingClientRect().left\r\n\r\n    // позиционирование фигуры при перемещении\r\n    const moveFigureAt = e => {\r\n      target.style.top = e.pageY - midY - shiftY + 'px'\r\n      target.style.left = e.pageX - midX - shiftX + 'px'\r\n    }\r\n\r\n    document.addEventListener('mousemove', moveFigureAt)\r\n\r\n    target.onmouseup = function () {\r\n      document.removeEventListener('mousemove', moveFigureAt)\r\n\r\n      // сохранить позицию фигуры\r\n      const top = target.style.top\r\n      const left = target.style.left\r\n      props.onChangePositionHandler(index, top, left)\r\n      target.onmouseup = null\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={style.content}\r\n      ref={contentRef}\r\n      onClick={e => props.resetActiveFigure(e)}\r\n    >\r\n      <div className={style.content_mid}>\r\n        {\r\n          props.figures.map((figure, index) => {\r\n            const classes = [style[figure.type]]\r\n            // добавление border'a к выделенной фигуре\r\n            if (figure.id === activeId) {\r\n              classes.push(style.active)\r\n            }\r\n\r\n            return (\r\n              figure.type === 'triangle'\r\n                ?\r\n                // треугольники\r\n                <Triangle key={index}\r\n                  classes={classes}\r\n                  index={index}\r\n                  figure={figure}\r\n                  onMouseDown={onMouseDown}\r\n                  onFigureClickHandler={props.onFigureClickHandler}\r\n                  onKeyDown={props.onKeyDown}\r\n                />\r\n                :\r\n                // прямоугольники\r\n                figure.type === 'rectangle'\r\n                  ?\r\n                  <Rectangle key={index}\r\n                    classes={classes}\r\n                    index={index}\r\n                    figure={figure}\r\n                    onMouseDown={onMouseDown}\r\n                    onFigureClickHandler={props.onFigureClickHandler}\r\n                    onKeyDown={props.onKeyDown}\r\n                  />\r\n                  :\r\n                  // в остальных случаях:\r\n                  null\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nContent.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  figures: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.number,\r\n    type: PropTypes.string,\r\n    color: PropTypes.string,\r\n    position: PropTypes.shape({\r\n      top: PropTypes.string,\r\n      left: PropTypes.string,\r\n    }),\r\n  })).isRequired\r\n}\r\n\r\nexport default Content","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './Section.module.css'\n\nconst Section = props => {\n  return (\n    <section className={style.section}>\n      <h2 className={style.section_title}>\n        {props.title}\n      </h2>\n      <div\n        className={style.section_content}\n      >\n        {props.children}\n      </div>\n    </section>\n  )\n}\n\nSection.propTypes = {\n  title: PropTypes.string\n}\n\nexport default Section","import PropTypes from 'prop-types'\nimport style from './Shapes.module.css'\n\nconst Shapes = props => {\n  return (\n    <>\n      <div\n        className={style.createButton + ' ' + style.rectangle}\n        title=\"create rectangle\"\n        onClick={e => {\n          props.createFigureHandler(e, 'rectangle')\n        }}\n      ></div>\n      <div\n        className={style.createButton + ' ' + style.triangle}\n        title=\"create triangle\"\n        onClick={e => {\n          props.createFigureHandler(e, 'triangle')\n        }}\n      ></div>\n    </>\n  )\n}\n\nShapes.propTypes = {\n  createFigureHandler: PropTypes.func\n}\n\nexport default Shapes","import PropTypes from 'prop-types'\nimport style from './Style.module.css'\n\nconst Style = props => {\n  // инпут неактивный, если фигура не выбрана\n  const disabled = props.activeFigure === null ? true : false\n\n  return (\n    <>\n      <label className={style.property}>Fill</label>\n      <input type=\"color\" \n        disabled={disabled}\n        className={style.input}\n        title=\"Color Picker\"\n        value={props.color}\n        style={{\n          backgroundColor: props.color\n        }}\n        onClick={e => {\n          // остановить \"сброс выбранной фигуры\"\n          e.stopPropagation()\n        }}\n        onChange={props.onColorChange}\n      />\n    </>\n  )\n}\n\nStyle.propTypes = {\n  activeFigure: PropTypes.object,\n  color: PropTypes.string.isRequired,\n  onColorChange: PropTypes.func\n}\n\nexport default Style","import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './Sidebar.module.css'\nimport Section from './Section/Section'\nimport Shapes from './Section/Shapes/Shapes'\nimport Style from './Section/Style/Style'\n\nconst Sidebar = props => {\n  return (\n    <div className={style.sidebar} onClick={props.resetActiveFigure}>\n      <Section title=\"Shapes\">\n        <Shapes createFigureHandler={props.createFigureHandler} />\n      </Section>\n      <Section title=\"Style\">\n        <Style\n          activeFigure={props.activeFigure}\n          onColorChange={props.onColorChange}\n          color={props.color}\n        />\n      </Section>\n    </div>\n  )\n}\n\nSidebar.propTypes = {\n  activeFigure: PropTypes.object,\n  color: PropTypes.string.isRequired\n}\n\nexport default Sidebar","export const ADD_NEW_FIGURE = 'ADD_NEW_FIGURE'\nexport const GET_ACTIVE_FIGURE = 'GET_ACTIVE_FIGURE'\nexport const RESET_ACTIVE_FIGURE = 'RESET_ACTIVE_FIGURE'\nexport const SAVE_POSITION = 'SAVE_POSITION'\nexport const GET_NEW_COLOR_TO_ACTIVE_FIGURE = 'GET_NEW_COLOR_TO_ACTIVE_FIGURE'\nexport const KEY_LISTENER_DELETE = 'KEY_LISTENER_DELETE'","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport style from './App.module.css'\r\nimport Content from './components/Content/Content'\r\nimport Sidebar from './components/Sidebar/Sidebar'\r\nimport { addNewFigure, getactiveFigure, resetActiveFigure, onSavePosition, getNewColorToFigure, onDeleteKeyDownListener } from './redux/actions/actionCreators'\r\n\r\nfunction App(props) {\r\n\r\n  // добавление фигуры в рабочую область приложения\r\n  const createFigureHandler = (e, name) => {\r\n    e.stopPropagation()\r\n    props.addNewFigure(name)\r\n  }\r\n\r\n  // события по клику на фигуру в рабочей области\r\n  const onFigureClickHandler = (e, figure, index) => {\r\n    e.stopPropagation()\r\n    props.getActiveFigure({ figure, index })\r\n  }\r\n\r\n  // переписывать позиционирование двигаемой фигуры (для последующей записи в localstorage)\r\n  const onChangePositionHandler = (index, top, left) => {\r\n    props.onSavePosition(index, top, left)\r\n  }\r\n\r\n  // сбросить выделение активной фигуры\r\n  const resetActiveFigure = (e) => {\r\n    props.resetActiveFigure()\r\n  }\r\n\r\n  // Color Picker\r\n  const onColorChange = e => {\r\n    props.getNewColorToFigure(e.target.value)\r\n  }\r\n\r\n  // Удаление выделенной фигуры по нажатию на кнопку клавиатуры\r\n  const onKeyDown = (e, index) => {\r\n    props.onDeleteKeyDownListener(e.code, index)\r\n  }\r\n\r\n  return (\r\n    <main className={style.main}>\r\n      <Sidebar\r\n        createFigureHandler={createFigureHandler}\r\n        activeFigure={props.activeFigure}\r\n        color={props.fillColor}\r\n        onColorChange={onColorChange}\r\n        resetActiveFigure={resetActiveFigure}\r\n      />\r\n      <Content\r\n        figures={props.figures}\r\n        activeFigure={props.activeFigure}\r\n        onFigureClickHandler={onFigureClickHandler}\r\n        onChangePositionHandler={onChangePositionHandler}\r\n        resetActiveFigure={resetActiveFigure}\r\n        onKeyDown={onKeyDown}\r\n      />\r\n    </main>\r\n  )\r\n}\r\n\r\nApp.propTypes = {\r\n  activeFigure: PropTypes.object,\r\n  fillColor: PropTypes.string.isRequired,\r\n  figures: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.number,\r\n    type: PropTypes.string,\r\n    color: PropTypes.string,\r\n    position: PropTypes.shape({\r\n      top: PropTypes.string,\r\n      left: PropTypes.string,\r\n    }),\r\n  })).isRequired\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    figures: state.figuresState.figures,\r\n    maxId: state.figuresState.maxId,\r\n    activeFigure: state.figuresState.activeFigure,\r\n    fillColor: state.fillColorState.fillColor,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addNewFigure: name => dispatch(addNewFigure(name)),\r\n    getActiveFigure: value => dispatch(getactiveFigure(value)),\r\n    resetActiveFigure: () => dispatch(resetActiveFigure()),\r\n    onSavePosition: (index, top, left) => dispatch(onSavePosition(index, top, left)),\r\n    getNewColorToFigure: (color) => dispatch(getNewColorToFigure(color)),\r\n    onDeleteKeyDownListener: (eCode, index) => dispatch(onDeleteKeyDownListener(eCode, index)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"./actionTypes\";\n\nexport function addNewFigure(name) {\n  return {\n    type: ADD_NEW_FIGURE,\n    name\n  }\n}\n\nexport function getactiveFigure(value) {\n  return {\n    type: GET_ACTIVE_FIGURE,\n    value\n  }\n}\n\nexport function resetActiveFigure() {\n  return {\n    type: RESET_ACTIVE_FIGURE\n  }\n}\n\nexport function onSavePosition(index, top, left) {\n  return {\n    type: SAVE_POSITION,\n    index, top, left,\n  }\n}\n\nexport function getNewColorToFigure(color) {\n  return {\n    type: GET_NEW_COLOR_TO_ACTIVE_FIGURE,\n    color\n  }\n}\n\nexport function onDeleteKeyDownListener(eCode, index) {\n  return {\n    type: KEY_LISTENER_DELETE,\n    eCode, index\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const config = {\n  DEFAULT_FILL_COLOR: '#FFFFFF',\n  DEFAULT_FIGURE_COLOR: '#FF8C00',\n  DELETE_KEY_DOWN: 'Delete',\n  LOCAL_STORAGE_FIGURE: 'geoShapesStateFigures'\n}\n\nexport default config","import config from '../../config/config'\r\nimport { ADD_NEW_FIGURE, GET_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, SAVE_POSITION, GET_NEW_COLOR_TO_ACTIVE_FIGURE, KEY_LISTENER_DELETE } from \"../actions/actionTypes\"\r\n\r\nconst initialState = localStorage.getItem(config.LOCAL_STORAGE_FIGURE)\r\n  ? {\r\n    figures: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE)).figures,\r\n    maxId: JSON.parse(localStorage.getItem(config.LOCAL_STORAGE_FIGURE)).maxId,\r\n    activeFigure: null,\r\n  }\r\n  : {\r\n    figures: [],\r\n    maxId: 0,\r\n    activeFigure: null,\r\n  }\r\n\r\nexport default function figuresReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case ADD_NEW_FIGURE: \r\n      const newFigure = {\r\n        id: state.maxId + 1,\r\n        type: action.name,\r\n        color: config.DEFAULT_FIGURE_COLOR,\r\n        position: {\r\n          top: 'calc(50% - 50px)',\r\n          left: 'calc(50% - 100px)'\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        maxId: state.maxId + 1,\r\n        activeFigure: newFigure,\r\n        figures: [...state.figures, newFigure],\r\n      }\r\n    \r\n\r\n    case GET_ACTIVE_FIGURE: \r\n      if (action.value.figure.id < state.maxId) {\r\n        const figures = state.figures\r\n        figures[action.value.index].id = state.maxId + 1\r\n        return {\r\n          ...state,\r\n          figures: figures,\r\n          maxId: state.maxId + 1,\r\n          activeFigure: action.value.figure\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        activeFigure: action.value.figure\r\n      }\r\n    \r\n\r\n    case RESET_ACTIVE_FIGURE:\r\n      return {\r\n        ...state,\r\n        activeFigure: null\r\n      }\r\n\r\n    case SAVE_POSITION: \r\n      const figures = state.figures\r\n      figures[action.index].position.top = action.top\r\n      figures[action.index].position.left = action.left\r\n      return {\r\n        ...state,\r\n        figures: figures\r\n      }\r\n    \r\n\r\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE: \r\n      const activeFigureId = state.activeFigure.id\r\n      return {\r\n        ...state,\r\n        figures: [...state.figures.map(f => {\r\n          if (f.id === activeFigureId) {\r\n            return { ...f, color: action.color }\r\n          }\r\n          return f\r\n        })]\r\n      }\r\n    \r\n\r\n    case KEY_LISTENER_DELETE: \r\n      if (action.eCode === config.DELETE_KEY_DOWN) {\r\n        const figures = state.figures\r\n        figures.splice(action.index, 1)\r\n        if (figures.length === 0) {\r\n          return {\r\n            figures: [],\r\n            maxId: 0,\r\n            activeFigure: null,\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          figures: figures,\r\n          activeFigure: null,\r\n        }\r\n      }\r\n      return state\r\n    \r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import config from \"../../config/config\"\nimport { KEY_LISTENER_DELETE, GET_ACTIVE_FIGURE, GET_NEW_COLOR_TO_ACTIVE_FIGURE, RESET_ACTIVE_FIGURE, ADD_NEW_FIGURE } from \"../actions/actionTypes\"\n\nconst initialState = {\n  fillColor: config.DEFAULT_FILL_COLOR\n}\n\nexport default function fillColorReducer (state = initialState, action) {\n\n  switch(action.type) {\n    case ADD_NEW_FIGURE:\n      return {\n        fillColor: config.DEFAULT_FIGURE_COLOR\n      }\n    case RESET_ACTIVE_FIGURE:\n      return {\n        fillColor: config.DEFAULT_FILL_COLOR\n      }\n    case GET_ACTIVE_FIGURE:\n      return {\n        fillColor: action.value.figure.color\n      }\n    case GET_NEW_COLOR_TO_ACTIVE_FIGURE:\n      return {\n        fillColor: action.color\n      }\n    case KEY_LISTENER_DELETE:\n      if (action.eCode === config.DELETE_KEY_DOWN) {\n        return {\n          fillColor: config.DEFAULT_FILL_COLOR\n        }\n      }\n      return state\n    default:\n      return state\n  }\n}","import {combineReducers} from 'redux'\n\nimport figuresState from './reducers/figuresReducer'\nimport fillColorState from './reducers/fillColorReducer'\n\nexport default combineReducers({\n  figuresState,\n  fillColorState\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './normalize.css'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport {createStore, applyMiddleware} from 'redux'\nimport {Provider} from 'react-redux'\nimport mainReducer from './redux/mainReducer'\nimport config from './config/config'\n\n// function logger(store) {\n//   return next => action => {\n//     console.log('will dispatch', action)\n//     const returnValue = next(action)\n//     return returnValue\n//   }\n// }\n\nfunction saveToLocalStorage(store) {\n  return next => action => {\n    const returnValue = next(action)\n\n    // сохранение части store в localStorage\n    const figuresState = store.getState().figuresState\n\n    localStorage.setItem(config.LOCAL_STORAGE_FIGURE, JSON.stringify(figuresState))\n\n    return returnValue\n  }\n}\n\n// const store = createStore(mainReducer, applyMiddleware(logger))\nconst store = createStore(mainReducer, applyMiddleware(saveToLocalStorage))\n\nconst app = (\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'))\n\nreportWebVitals()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__1NrZc\",\"content_mid\":\"Content_content_mid__1rlBf\",\"triangle\":\"Content_triangle__2RUPC\",\"rectangle\":\"Content_rectangle__SobIB\",\"active\":\"Content_active__2NMna\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rectangle\":\"Shapes_rectangle__ogurK\",\"triangle\":\"Shapes_triangle__3O-gi\"};"],"sourceRoot":""}